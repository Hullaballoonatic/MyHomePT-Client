<ion-header>
    <ion-button (click)="dismiss()" slot="start">
        <ion-icon name="return-left" slot="icon-only"></ion-icon>
    </ion-button>
</ion-header>
<ion-content>
    <ion-list>
        <ion-list-header [color]="empty ? 'warning' : 'light'">
            <ion-title>Nearby Flexdots</ion-title>
            Click a flexdot to connect to it
        </ion-list-header>
        <ion-button (click)="select(flexdot)"
                    *ngFor="let flexdot of flexdots$ | async"
                    [color]="(flexdot.connectionState$ | async) ? 'success' : 'danger'">
            <ion-title>{{flexdot.id}}</ion-title>
            <ion-icon [name]="flexdot.batteryLevel >= 0.5 ? 'battery-full' : 'battery-dead'"></ion-icon>
        </ion-button>
        <ion-item *ngIf="empty">
            <ion-label>No flexdots found</ion-label>
            Please ensure your phone's bluetooth is enabled and your flexdots have their batteries inserted
        </ion-item>
    </ion-list>
</ion-content>
